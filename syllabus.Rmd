---
title: "Syllabus"
output:
  html_document:
    includes:
      after_body: include/nothing.html
---

```{r include = FALSE}
library(dplyr)
library(stringr)
```

```{r include = FALSE}
# Import schedule
rawdat <- read.csv(file.path("course-admin", "schedule_2016.csv"), stringsAsFactors = FALSE, colClasses = list(course = 'factor', dow = 'factor'))
rawdat$course <- as.factor(rawdat$course)

# Class meetings
rawdat_cm <- rawdat[rawdat$course == "STAT540",]

cdat <- rawdat_cm %>%
  mutate(ugly_date = ISOdate(2016, match(month, month.name), day),
         date = sprintf("%s-%02d %s",
                        months(ugly_date, abbreviate = TRUE),
                        day, dow),
         notes = ifelse(grepl("^lect", lect) & raw_notes != "",
                        sprintf("%s: %s", lect, raw_notes), raw_notes))
cdat %>% head(3)

## link to the class page of any class meetings where such exists
cmdat <-
  data.frame(pdf = list.files(pattern = '^lect.*pdf$'),
             stringsAsFactors = FALSE)
cmdat <- cmdat %>% mutate(lect = str_extract(pdf, "lect[0-9]+"))
cmdat$lect <- sapply(cmdat$lect, str_replace, pattern="lect0*([0-9]+)", replacement="lecture-\\1")
cdat <- cdat %>% left_join(cmdat, by="lect")

pdf_exists <- Negate(is.na)(cdat$pdf)

# Insert placeholder link to notes 
cdat$notes[pdf_exists] <-
  str_replace(cdat$notes[which(pdf_exists)],
              "(lecture-[0-9]+)|(lecture-[1-9]+)", '<a href="LINK">\\1</a>')
# Replace placeholder "LINK" which pdf file names 
cdat$notes[pdf_exists] <- str_replace(cdat$notes[which(pdf_exists)], "LINK", cdat$pdf[which(pdf_exists)])

dat_cm <- cdat %>% split(cdat$course)
dat_cm <- lapply(dat_cm, 'rownames<-', NULL)

# Seminar meetings 
rawdat_sm <- rawdat[rawdat$course == "STAT540-Seminar",]

sdat <- rawdat_sm %>%
  mutate(ugly_date = ISOdate(2016, match(month, month.name), day),
         date = sprintf("%s-%02d %s",
                        months(ugly_date, abbreviate = TRUE),
                        day, dow))
sdat %>% head(3)

## link to the page of any seminar where such exists
smdat <-
  data.frame(html = list.files(pattern = '^sm.*html$'),
             stringsAsFactors = FALSE)
smdat <- smdat %>% mutate(lect = str_extract(html, "sm[0-9]+[a-z]*"))
smdat$lect <- sapply(smdat$lect, str_replace, pattern="sm0*([0-9]+)([a-z]*)", replacement="seminar-\\1\\2")

sdat <- sdat %>% left_join(smdat, by="lect")

#seminar 00 from STAT545
# sdat$html[sdat$lect=="sm00"] <-c('https://stat545-ubc.github.io/topics.html')

#separate links to seminar 01 parts
sdat$html[sdat$lect=="seminar-1a"] <-c('https://stat545-ubc.github.io/git01_git-install.html')

sdat$html[sdat$lect=="seminar-1c"] <-c('sm01c_biology-intro.pdf')
sdat$html[sdat$lect=="seminar-1d"] <-c('sm01d_biology-intro-2016.pdf')

#separate links to seminar 02 parts
sdat$html[sdat$lect=="seminar-2a"] <-c('https://stat540-ubc.github.io/sm02a_rMarkdown.html')

sdat$html[sdat$lect=="seminar-2b"] <-c('https://stat540-ubc.github.io/sm02b_introProbCltLln.html')


html_exists = Negate(is.na)(sdat$html)

sdat$lect[html_exists] <-
  str_replace(sdat$lect[html_exists],
              pattern="(^seminar-.*)", replacement='<a href="LINK">\\1</a>')
sdat$lect[html_exists] <- str_replace(sdat$lect[html_exists], "LINK", sdat$html[html_exists])

dat_sm <- sdat %>% split(sdat$course)
dat_sm <- lapply(dat_sm, 'rownames<-', NULL)
```

### Prerequisites and useful skills

Officially none BUT here in reality ...

**Statistics**: You should have already taken university level introductory statistics course.

**Biology**: 

- No requirements, but you are expected to learn things like the difference between a DNA and RNA and a gene and a genome
- See [Seminar-1c](sm01c_biology-intro.pdf) 

**R**: 

- No experience required but be prepared to do a lot of self-guided learning if you haven't taken other courses on R. 
- Start now by installing R and the HIGHLY RECOMMENDED "integrated development environment" (IDE) RStudio! 
- Best set-up: be able to run R on your own computer and bring your own laptop to each seminar.
- If you are new to R, check out [this blog post on getting started with R](http://santina.me/r/2015/12/15/Get-started-with-R.html). 

**Others:** 

- You'll need to know how to use [Git](https://stat545-ubc.github.io/git01_git-install.html) and GitHub. 
- We'll soon learn about [using Rmarkdown](https://stat540-ubc.github.io/sm02a_rMarkdown.html) to generate reports, and you'll be using that a lot in this course. 

### Evaluation

**Homework**: 

- One assignment worth 30 points. (see calendar below).
- Involve detailed analysis of real data using R 
- Due two weeks after the assignment is posted (coming soon!)


**Group project**: 

- A data analysis group project that will allow you to apply the techniques covered in class
- Important dates: 
    - Now - January 22: Pitch your ideas, find an idea, form a 4-5 people group 
    - January 29: Finish the initial project proposal
    - February 12: Receive feedback on the project proposal 
    - February 15: Finalize the proposal 
    - April 6: Poster session 
- Grading and deliverable 
    - Primary deliverable is a poster. Each student also produces a short report 
    - Planning + project + poster session - 50 points 
    - Peer evaluation - 10 points 
- Tip: try to form a group of diverse talents

**Paper critiques**

- Summarize and critique 2 papers - 5 points each 
- Select, read, summarize and critique a recent paper from the ‘omics literature – write one page max
- Instruction on the paper critiques will be posted shortly 

<!-- unholy hack to make following two tables less wide and the same wide -->
<style type="text/css">
table {
   max-width: 70%;
}
</style>

### Class mettings

**Time** : Mon Wed 9:30 - 11am

**Location** : ESB 4192

**Calendar**

```{r results = 'asis', echo = FALSE}
knitr::kable(dat_cm[["STAT540"]] %>% select(date, notes, instructor))
```

### Seminars

[Seminar slides](https://docs.google.com/presentation/d/12drsmu8DBbSuGgkycyt0G_DcCI8SU2tnom1p03k-mGg/edit?usp=sharing)

**Time**: Wed 12pm - 1pm (but welcome to come after class around 11am)

**Location**: ESB 1042 and 1046

**Calendar**

```{r results = 'asis', echo = FALSE}
knitr::kable(dat_sm[["STAT540-Seminar"]] %>% select(date, lect, raw_notes, instructor))
```
